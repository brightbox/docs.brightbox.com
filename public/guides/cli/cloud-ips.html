<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>Brightbox - Cloud IPs</title>
    <link href="http://localhost:4000/stylesheets/0reset.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="http://localhost:4000/stylesheets/960_24_col.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="http://localhost:4000/stylesheets/main.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="http://localhost:4000/stylesheets/buttons.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="http://localhost:4000/stylesheets/tiptip.css" media="screen" rel="stylesheet" type="text/css" />       
    <link href='http://fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

    <script src="/javascripts/head.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-3144138-4']);
        _gaq.push(['_setDomainName', 'docs.brightbox.com']);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
      </script>
  </head>
<body class="community">

 <header>
   <nav>
  <div id="nav_inner" class="container_24">
    <div id="logo"><h1><a href="/">Brightbox</a></h1></div>

    <ul class="primary">
      
        <li>
          <a href="http://brightbox.com"><span>brightbox.com</span></a>
        </li>
      
    </ul>

  </div>
</nav>


   <div id="banner" >

      <div class="container_24 small" id="banner_inner">

          <div id="title">
            <h2>Documentation.</h2>
          </div>
      </div>

    </div><!-- /banner -->
</header>

<div id="main">
  <div class="content container_24">
    
      
      <div id="breadcrumbs">
        
        	<a href="/">Overview</a> 
        	<b>&rsaquo;</b> 
        
        	<a href="/guides.html">Guides</a> 
        	<b>&rsaquo;</b> 
        
        	<a href="/guides/cli.html">CLI</a> 
        	<b>&rsaquo;</b> 
        
        	<a href="/guides/cli/cloud-ips.html">Cloud IPs</a> 
        	 
        
      </div>
      


    <h2>Cloud IPs</h2>
    
    <p>Cloud IPs are publicly accessible IP addresses that can be moved instantly between servers in the Brightbox Cloud. They belong to an account until they are destroyed. Once created, they can be mapped to any server belonging to the same account.</p>

<h3 id='creating_a_cloud_ip'>Creating a cloud IP</h3>

<p>You create cloud ips using the <code>brightbox-cloudips</code> Command Line Interface tool:</p>

<pre><code>$ brightbox-cloudips create

 id         status    public_ip       server_id  interface_id  reverse_dns                            
-------------------------------------------------------------------------------------------------------
 cip-1um8s  unmapped  109.107.35.140                           cip-109-107-35-140.gb1.brightbox.com
-------------------------------------------------------------------------------------------------------</code></pre>

<h3 id='mapping_a_cloud_ip_to_a_server'>Mapping a cloud IP to a server</h3>

<p>Find the id of the cloud ip you want to map and the id of the server you want to map it to:</p>

<pre><code>$ brightbox-cloudips list

 id         status    public_ip       server_id  interface_id  reverse_dns                            
-------------------------------------------------------------------------------------------------------
 cip-1um8s  unmapped  109.107.35.140                           cip-109-107-35-140.gb1.brightbox.com
-------------------------------------------------------------------------------------------------------

$ brightbox-servers list

 id         status    type    zone   created_on  image_id   cloud_ips       name           
--------------------------------------------------------------------------------------------
 srv-zx1hd  active    nano    gb1-b  2010-11-05  img-hm6oj                  my first server
 srv-9puly  active    nano    gb1-a  2010-11-05  img-hm6oj                  my other server
--------------------------------------------------------------------------------------------</code></pre>

<p>And then simply map the ip to the server, using the <code>brightbox-cloudips map</code> command:</p>

<pre><code>$ brightbox-cloudips map cip-1um8s srv-zx1hd
Mapping cip-1um8s to interface int-x4kve on srv-zx1hd

 id         status  public_ip       server_id  interface_id  reverse_dns                            
-----------------------------------------------------------------------------------------------------
 cip-1um8s  mapped  109.107.35.140  srv-zx1hd  int-x4kve     cip-109-107-35-140.gb1.brightbox.com
-----------------------------------------------------------------------------------------------------</code></pre>

<p>You can now see that the IP mapping shows up in the server list too:</p>

<pre><code>$ brightbox-servers list

 id         status    type    zone   created_on  image_id   cloud_ips       name           
--------------------------------------------------------------------------------------------
 srv-zx1hd  active    nano    gb1-b  2010-11-05  img-hm6oj  109.107.35.140  my first server
 srv-9puly  active    nano    gb1-a  2010-11-05  img-hm6oj                  my other server
--------------------------------------------------------------------------------------------</code></pre>

<h3 id='dns_records'>DNS records</h3>

<p>For your convenience, a dns record is automatically created for cloud ip mappings. Whilst mappings are instantaneous, the dns updates can take time to propagate due to caching. It is usually updated within two minutes.</p>

<pre><code>$ host public.srv-zx1hd.gb1.brightbox.com
public.srv-zx1hd.gb1.brightbox.com has address 109.107.35.140</code></pre>

<h3 id='remapping_an_ip'>Remapping an IP</h3>

<p>You can unmap the ip from one server and map it to another in one command with the <code>-u</code> option:</p>

<pre><code>$ brightbox-cloudips map -u cip-1um8s srv-9puly
Unmapping ip cip-1um8s
Mapping cip-1um8s to interface int-3yqv6 on srv-9puly

 id         status  public_ip       server_id  interface_id  reverse_dns                            
-----------------------------------------------------------------------------------------------------
 cip-1um8s  mapped  109.107.35.140  srv-9puly  int-3yqv6     cip-109-107-35-140.gb1.brightbox.com
-----------------------------------------------------------------------------------------------------</code></pre>

<h3 id='unmap_an_ip'>Unmap an IP</h3>

<p>Unmapping an IP removes it from a server, but leaves it belonging to the account for future remappings:</p>

<pre><code>$ brightbox-cloudips unmap cip-1um8s 
Unmapping cloud ip cip-1um8s

 id         status    public_ip       server_id  interface_id  reverse_dns                            
-------------------------------------------------------------------------------------------------------
 cip-1um8s  unmapped  109.107.35.140                           cip-109-107-35-140.gb1.brightbox.com
-------------------------------------------------------------------------------------------------------</code></pre>

<h3 id='would_you_like_to_know_more'>Would you like to know more?</h3>

<p>Here you created, mapped, remapped and unmapped a cloud IP.</p>

<p>You might want to learn about zones or learn how to Create a snapshot.</p>
  </div><!-- /content -->
</div><!-- /main -->


<footer>
<div id="footer_inner" class="container_24">
  <div class="grid_9 alpha">
  <h4>Follow @brightbox</h4>  
    
  <p class="social">
    <a href="http://twitter.com/brightbox" title="Twitter (@brightbox)" class="tip"><img src="/images/icons/twitter.png" /></a> 
    <a href="http://facebook.com/brightbox" title="Facebook" class="tip"><img src="/images/icons/facebook.png" /></a> 
    <a href="http://flickr.com/brightbox" title="Flickr" class="tip"><img src="/images/icons/flickr.png" /></a> 
    <a href="http://github.com/brightbox" title="GitHub" class="tip"><img src="/images/icons/github.png" /></a> 
    <a href="http://youtube.com/brightbox" title="YouTube" class="tip"><img src="/images/icons/youtube.png" /></a> 
  </p>
    
   <form id="subscribe" action="http://brightbox.createsend.com/t/y/s/bykuul/" method="post">
     <label for="bykuul-bykuul">Receive email updates about new products, features and other news (unsubscribe anytime).</label>
     
      <p>
        <input type="text" name="cm-bykuul-bykuul" id="bykuul-bykuul" placeholder="your email" />
      <button type="submit">subscribe</button></p>
    </form>
    <p class="copyright">Copyright &copy; 2011 Brightbox Systems Ltd</p>
    <p class="links">
      <a href="/legal/terms">Terms &amp; Conditions</a> &bull; 
      <a href="https://api.gb1.brightbox.com/1.0/">API</a> &bull; 
      <a href="http://docs.brightbox.com">Documentation</a> &bull;
      <a href="/about/contact">Contact us</a>
    </p>
  </div>

  <div class="clear">.</div>

<a href="http://github.com/brightbox/brightbox-docs" target="_blank"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://a248.e.akamai.net/assets.github.com/img/e6bef7a091f5f3138b8cd40bc3e114258dd68ddf/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub"></a>
  
</div>
</footer>

   <script type="text/javascript">
    head.js(
     { 'before': '/javascripts/before.js' },
     { 'jquery': 'http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js' },
     { 'jquery.smooth-scroll': '/javascripts/jquery.smooth-scroll.min.js' },
     { 'jquery.twitter': '/javascripts/jquery.twitter.js' },
     { 'jquery.tiptip': '/javascripts/jquery.tiptip.min.js' },
     { 'jquery.fancyzoom': '/javascripts/jquery.fancyzoom.js' },
     { 'disqus': 'http://brightbox.disqus.com/embed.js' },
     { 'jqueryui': 'http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.15/jquery-ui.min.js' },
  </script>
</body>
</html>
